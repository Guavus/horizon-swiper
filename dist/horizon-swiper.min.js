"use strict";!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof exports?require("jquery"):jQuery)}(function(a){var b="horizonSwiper",c={item:".horizon-item",showItems:"auto",arrows:!0,arrowPrevText:"",arrowNextText:"",animateionSpeed:500,mouseDrag:!0,onStart:function(){},onEnd:function(){},onDragStart:function(){},onDragEnd:function(){}},d={$window:a(window),$document:a(document),innerClass:"horizon-inner",outerClass:"horizon-outer",arrowPrev:['<button class="horizon-prev">',"</button>"],arrowNext:['<button class="horizon-next">',"</button>"],showArrowsClass:"show-arrows",firstItemClass:"first-item",lastItemClass:"last-item"},e=function(){function b(b,e){var f=this;f.settings=a.extend({},c,e),f.$element=a(b),f.$items=f.$element.find(this.settings.item),f.$inner=null,f.$outer=null,f.$arrowPrev=null,f.$arrowNext=null,f.initialized=!1,f.maxHeight=0,f.innerContainerWidth=0,f.viewportSize=0,f.isAnimate=!1;var g=function h(){f.initialized===!0?f.setSizes():setTimeout(function(){h()},1e3)};d.$document.ready(function(){f.init()}),d.$window.load(function(){g()})}return b.prototype.init=function(){var a=this;a._setWrapper(),a._addArrows(),a._mouseDrag(),a.setSizes(),a._resize(),a.initialized=!0},b.prototype.setSizes=function(){var b=this;b.maxHeight=0,b.innerContainerWidth=0;for(var c=0;c<b.$items.length;++c){var e=a(b.$items[c]),f=e.outerHeight(!0),g=e.outerWidth(!0);f>b.maxHeight&&(b.maxHeight=f),b.innerContainerWidth+=g}b.viewportSize=b.$inner.width(),b.$outer.css({"max-height":b.maxHeight+"px"}),b.viewportSize<b.innerContainerWidth&&b.settings.arrows===!0?b.$element.addClass(d.showArrowsClass):b.$element.removeClass(d.showArrowsClass)},b.prototype._resize=function(){var a=this,b=null,c=function(){a.setSizes()};d.$window.resize(function(){clearTimeout(b),setTimeout(function(){c()},250)})},b.prototype._setWrapper=function(){var a=this,b=0;a.$items.wrapAll('<div class="'+d.outerClass+'">'),a.$items.wrapAll('<div class="'+d.innerClass+'">'),a.$inner=a.$element.find("."+d.innerClass),a.$outer=a.$element.find("."+d.outerClass),"auto"!==a.settings.showItems&&a.settings.showItems===parseInt(a.settings.showItems,10)&&(b=100/a.settings.showItems,a.$items.css({width:b+"%"}))},b.prototype._addArrows=function(){var b=this;b.settings.arrows===!0&&(b.$arrowPrev=a(d.arrowPrev[0]+b.settings.arrowPrevText+d.arrowPrev[1]),b.$arrowNext=a(d.arrowNext[0]+b.settings.arrowNextText+d.arrowNext[1]),b.$arrowNext.insertAfter(b.$outer),b.$arrowPrev.insertAfter(b.$outer),b.$element.addClass(d.firstItemClass),b.$arrowPrev.attr("disabled","disabled"),b.$arrowPrev.on("click",function(a){a.preventDefault(),b.isAnimate===!1&&b._scrollTo("previous")}),b.$arrowNext.on("click",function(a){a.preventDefault(),b.isAnimate===!1&&b._scrollTo("next")}))},b.prototype._scrollTo=function(a){var b=this,c=b._getOffset(a);return b.isAnimate=!0,"end-position"===c||"start-position"===c?void(b.isAnimate=!1):void b.$inner.animate({scrollLeft:c[0]},b.settings.animateionSpeed,function(){"end-position"===c[1]?b.settings.onEnd():"start-position"===c[1]&&b.settings.onStart(),b._checkPosition(),b.isAnimate=!1})},b.prototype._getOffset=function(b){var c=this,d=c.$inner.scrollLeft(),e=0,f=d+c.viewportSize;if("next"===b&&d+c.viewportSize===c.innerContainerWidth)return"end-position";if("previous"===b&&0===d)return"start-position";for(var g=0;g<c.$items.length;++g){var h=a(c.$items[g]).outerWidth(!0),i="";if(e+=h,"next"===b&&e>f)return g+1===c.$items.length&&(i="end-position"),[e-c.viewportSize,i];if("previous"===b&&e>=d)return 0>=e-h&&(i="start-position"),[e-h,i]}},b.prototype._mouseDrag=function(){var a=this,b=!1,c=!1,e=0,f=0,g=(a.$inner.offset().left,0),h=function(c){b===!1&&(g=f+(e-c.pageX),a.$inner.scrollLeft(g))};a.settings.mouseDrag===!0&&b===!1&&(a.$element.addClass("mouse-drag"),a.$element.on({touchstart:function(c){b=!0,a.settings.onDragStart()},mousedown:function(b){c=!0,a.settings.onDragStart(),e=b.pageX,f=a.$inner.scrollLeft()},touchend:function(b){a._checkPosition(),a.settings.onDragEnd()},mouseup:function(b){"button"!==b.target.tagName.toLowerCase()&&a._checkPosition(),a.settings.onDragEnd()},mousemove:function(a){c&&h(a)}}),d.$document.on({mouseup:function(a){c=!1}}))},b.prototype._checkPosition=function(){var a=this;if(a.settings.arrows===!0){var b=(a.$inner.scrollLeft(),a.$inner.scrollLeft());b+a.viewportSize>=a.innerContainerWidth-1?(a.$element.addClass(d.lastItemClass),a.$arrowNext.attr("disabled","disabled"),a.$element.removeClass(d.firstItemClass),a.$arrowPrev.removeAttr("disabled")):0===b?(a.$element.addClass(d.firstItemClass),a.$arrowPrev.attr("disabled","disabled"),a.$element.removeClass(d.lastItemClass),a.$arrowNext.removeAttr("disabled")):(a.$element.removeClass(d.lastItemClass).removeClass(d.firstItemClass),a.$arrowPrev.removeAttr("disabled"),a.$arrowNext.removeAttr("disabled"))}},b}();a.fn[b]=function(c){return this.each(function(){a.data(this,b)||a.data(this,b,new e(this,c))}),this}});